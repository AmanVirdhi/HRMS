"use strict";(self.webpackChunkHRMS=self.webpackChunkHRMS||[]).push([[523],{4523:(sn,N,p)=>{p.r(N),p.d(N,{AttendanceModule:()=>dn});var u=p(6814),y=p(2787),F=p(6054),t=p(5879);let Z=(()=>{class n{constructor(e){this.router=e,this.showTabs=!0,this.activeTab="",this.showShare=!1}toggleTabs(){this.showTabs=!this.showTabs}selectTab(e){this.router.navigateByUrl(e.target.value)}goBack(){this.router.navigate(["/"])}toggleShare(){this.showShare=!this.showShare}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(y.F0))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-attendance-sub-header"]],decls:30,vars:0,consts:[[1,"main"],[1,"fixed-header"],[1,"card","tab-box"],[1,"row","user-tabs"],[1,""],[2,"display","flex","flex-wrap","nowrap","padding-top","2px"],[1,"nav",2,"display","flex","flex-wrap","nowrap","padding","5px"],[1,"tab"],["data-bs-toggle","tab","routerLink","/main/dashboard",1,"nav-link"],[1,"fas","fa-house","fa-fw","me-2"],["data-bs-toggle","tab","routerLink","../empatt",1,"nav-link"],[1,"fas","fa-arrow-left","fa-fw","me-2"],[1,"tab","nav-item"],["data-bs-toggle","tab","routerLink","../empatt","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-user","fa-fw","me-2"],["data-bs-toggle","tab","routerLink","../alist","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","tab","routerLink","../apprej","routerLinkActive","active",1,"nav-link"],["data-bs-toggle","tab","routerLink","../manual","routerLinkActive","active",1,"nav-link"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ul",6)(7,"li",7)(8,"a",8),t._UZ(9,"i",9),t.qZA()(),t.TgZ(10,"li",7)(11,"a",10),t._UZ(12,"i",11),t.qZA()(),t._uU(13,"\xa0 "),t.TgZ(14,"li",12)(15,"a",13),t._UZ(16,"i",14),t._uU(17," Attendance Dashboard "),t.qZA()(),t.TgZ(18,"li",12)(19,"a",15),t._UZ(20,"i",14),t._uU(21,"Attendance List "),t.qZA()(),t.TgZ(22,"li",12)(23,"a",16),t._UZ(24,"i",14),t._uU(25,"Approve Reject "),t.qZA()(),t.TgZ(26,"li",12)(27,"a",17),t._UZ(28,"i",14),t._uU(29,"Manual Attendance "),t.qZA()()()()()()()()())},dependencies:[y.rH,y.Od],styles:['.main[_ngcontent-%COMP%]{overflow-x:hidden}.dropdownmore[_ngcontent-%COMP%]{margin-top:.6%;text-decoration:none}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:flex;flex-wrap:nowrap;white-space:nowrap}.user-tabs[_ngcontent-%COMP%]{white-space:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin-top:-12px}.nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin-right:10px;border-bottom:3px white;margin-bottom:-6px}.nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{position:relative;color:#000}.nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-6px;left:0;width:0;height:3px;background-color:transparent;transition:width .3s ease}.nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{width:100%;background-color:orange}.nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before{width:100%;background-color:orange}.nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:orange;color:#fff}.nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700;background-color:orange;color:#fff}.stepper[_ngcontent-%COMP%]{display:flex}.step[_ngcontent-%COMP%]{flex:1;text-align:center;background-color:#f0f0f0;border:1px solid #ccc;cursor:pointer}.step.active[_ngcontent-%COMP%]{background-color:orange;color:#fff;font-weight:700}.step[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}']})}return n})();var _=p(7398),Q=p(8941),$=p(7955);let w=(()=>{class n{constructor(e,a){this.httpService=e,this.configuration=a}getManualAttendanceWithId(e){return this.httpService.makeGetReq(this.configuration.getManualAttendance).pipe((0,_.U)(a=>a.filter(o=>o&&o.empRegId.toString()===e)))}getListManualAttendance(){return this.httpService.makeGetReq(this.configuration.getManualAttendance).pipe((0,_.U)(e=>e))}saveManualAttendanceDetail(e){return this.httpService.makePostReq(e,this.configuration.getManualAttendance).pipe((0,_.U)(a=>a))}editManualAttendanceDetail(e,a){return this.httpService.makePutReq(e,this.configuration.getManualAttendance+"/"+a)}getEmployeeAttendanceWithId(e){const a=(new Date).toISOString().split("T")[0];return this.httpService.makeGetReq(this.configuration.getManualAttendance).pipe((0,_.U)(o=>o.filter(r=>r&&r.empRegId.toString()===e&&r.date.startsWith(a))))}getEmployeeAttendanceWithAttribute(e){const o=(new Date).toISOString().split("T")[0];return this.httpService.makeGetReq(`${this.configuration.getManualAttendance}/0/${e}/${o}`).pipe((0,_.U)(c=>{if(c&&"object"==typeof c&&!Array.isArray(c)){new Date(c.loginDate.replace(/-/g,"/"));const m=(new Date).toISOString().split("T")[0];if(c.empRegId.toString()===e&&o===m)return c}return{}}))}getAttendanceDataForDay(e,a){return this.httpService.makeGetReq(`${this.configuration.getManualAttendance}/0/${e}/${a}`)}getEmployeeAttendanceForDate(e,a){return this.httpService.makeGetReq(`${this.configuration.getManualAttendance}/0/${e}/${a}`)}getUserNameById(e){return this.httpService.makeGetReqForUserName(`${this.configuration.getUser}/userNameById?id=${e}`)}getAttendanceListWithId(e,a){return this.httpService.makeGetReq(this.configuration.getManualAttendance).pipe((0,_.U)(o=>o.filter(r=>r&&r.empRegId.toString()===e&&r.date.startsWith(a))))}getAttendanceListWithAttribute(e,a){return this.httpService.makeGetReq(`${this.configuration.getManualAttendance}/0/${e}/${a}`).pipe((0,_.U)(c=>{if(c&&"object"==typeof c&&!Array.isArray(c)){const l=new Date(c.loginDate.replace(/-/g,"/"));if(l.setDate(l.getDate()+1),console.log(l.toISOString().split("T")[0]),console.log(a),c.empRegId.toString()===e&&l.toISOString().split("T")[0]===a)return c}return{}}))}getEmployeeAttendanceListWithId(e){return this.httpService.makeGetReq(`${this.configuration.getManualAttendance}/GetAttandenceDetailById/${e}`).pipe((0,_.U)(o=>o.filter(r=>r&&r.empRegId.toString()===e)))}getAttendanceSupervisorListWithId(e){return this.httpService.makeGetReq(`${this.configuration.getManualAttendance}/GetApprovalRejectBySupervisoryId/${e}`).pipe((0,_.U)(o=>(console.log("res",o),console.log(o.filter(r=>r&&r.empRegId.toString()===e)),o.filter(r=>r&&r.empRegId.toString()===e))))}getAllEmployees(){return this.httpService.makeGetReq(this.configuration.getEmp).pipe((0,_.U)(e=>e))}static#t=this.\u0275fac=function(a){return new(a||n)(t.LFG(Q.O),t.LFG($.e))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O=p(2425),D=p(8641),q=p(6739),h=p(2817),d=p(6223),k=p(2296);function L(n,i){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function j(n,i){if(1&n&&(t.TgZ(0,"option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function H(n,i){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.date)}}const I=function(n){return{clickable:n}},S=function(n,i,e){return{present:n,absent:i,holiday:e}};function G(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",23),t.NdJ("click",function(){const o=t.CHM(e),r=o.$implicit,c=o.index,l=t.oxw(3);return t.KtG(r.records[0]?l.openPopup(l.empRegId,r.records[0],l.list1[c].date):null)}),t.TgZ(1,"span",24),t._uU(2),t.qZA()()}if(2&n){const e=i.$implicit;t.Q6J("ngClass",t.VKq(3,I,e.records[0])),t.xp6(1),t.Q6J("ngClass",t.kEZ(5,S,"P"===e.records[0],"A"===e.records[0],"H"===e.records[0])),t.xp6(1),t.hij(" ",e.records[0]||"-"," ")}}function B(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",20),t._uU(2),t.qZA(),t.YNc(3,G,3,9,"td",22),t.qZA()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.fullName),t.xp6(1),t.Q6J("ngForOf",e.attendanceDetailData)}}function W(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"table",18)(3,"thead",19)(4,"tr")(5,"th",20),t._uU(6,"Employee Name"),t.qZA(),t.YNc(7,H,2,1,"th",21),t.qZA()(),t.TgZ(8,"tbody"),t.YNc(9,B,4,2,"tr",21),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.list1),t.xp6(2),t.Q6J("ngForOf",e.allEmployeesAttendanceData)}}function K(n,i){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.date)}}function z(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",23),t.NdJ("click",function(){const o=t.CHM(e),r=o.index,c=o.$implicit,l=t.oxw(2);return t.KtG(null!=l.attendanceDetailData[r]&&l.attendanceDetailData[r].records[0]?l.openPopup(l.empRegId,null==l.attendanceDetailData[r]?null:l.attendanceDetailData[r].records[0],c.date):null)}),t.TgZ(1,"span",24),t._uU(2),t.qZA()()}if(2&n){const e=i.index,a=t.oxw(2);t.Q6J("ngClass",t.VKq(3,I,null==a.attendanceDetailData[e]?null:a.attendanceDetailData[e].records[0])),t.xp6(1),t.Q6J("ngClass",t.kEZ(5,S,"P"===(null==a.attendanceDetailData[e]?null:a.attendanceDetailData[e].records[0]),"A"===(null==a.attendanceDetailData[e]?null:a.attendanceDetailData[e].records[0]),"H"===(null==a.attendanceDetailData[e]?null:a.attendanceDetailData[e].records[0]))),t.xp6(1),t.hij(" ",(null==a.attendanceDetailData[e]?null:a.attendanceDetailData[e].records[0])||" "," ")}}function V(n,i){if(1&n&&(t.TgZ(0,"div",17)(1,"table",18)(2,"thead",19)(3,"tr")(4,"th"),t._uU(5,"Employee"),t.qZA(),t.YNc(6,K,2,1,"th",21),t.qZA()(),t.TgZ(7,"tbody")(8,"tr")(9,"td"),t._uU(10),t.qZA(),t.YNc(11,z,3,9,"td",25),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.list1),t.xp6(4),t.Oqu(e.fullName),t.xp6(1),t.Q6J("ngForOf",e.list1)}}function X(n,i){if(1&n&&(t.TgZ(0,"div",40)(1,"h4")(2,"b"),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"div",41)(6,"p")(7,"b"),t._uU(8,"Punch In at"),t.qZA(),t._UZ(9,"br"),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.TgZ(12,"div",42)(13,"p")(14,"b"),t._uU(15),t.qZA()()(),t.TgZ(16,"div",43)(17,"p")(18,"b"),t._uU(19,"Punch Out at"),t.qZA(),t._UZ(20,"br"),t._uU(21),t.ALo(22,"date"),t.qZA()(),t.TgZ(23,"div",44)(24,"div",45)(25,"p")(26,"b"),t._uU(27,"Break"),t.qZA(),t._UZ(28,"br"),t._uU(29,"00:00 hrs"),t.qZA()(),t.TgZ(30,"div",46)(31,"p")(32,"b"),t._uU(33,"Overtime"),t.qZA(),t._UZ(34,"br"),t._uU(35,"00:00 hrs"),t.qZA()()()()),2&n){const e=i.$implicit,a=t.oxw(3);t.xp6(3),t.hij("Time Sheet ",t.xi3(4,6,e.loginDate,"dd MMM yyyy"),""),t.xp6(7),t.AsE("",t.xi3(11,9,e.loginDate,"EEE, dd MMM yyyy")," ",a.extractTime(e.inTime),""),t.xp6(5),t.hij("",e.totalTime.slice(0,5)," hrs"),t.xp6(6),t.AsE("",t.xi3(22,12,e.loginDate,"EEE, dd MMM yyyy")," ",a.extractTime(e.outTime),"")}}function tt(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("Punch In at ----- ",e.time,"")}}function et(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("Punch Out at ----- ",e.time,"")}}function nt(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,tt,2,1,"p",48),t.YNc(2,et,2,1,"p",48),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","Punch In"===e.type),t.xp6(1),t.Q6J("ngIf","Punch Out"===e.type)}}function at(n,i){if(1&n&&(t.TgZ(0,"div",47)(1,"h4")(2,"b"),t._uU(3,"Activity"),t.qZA()(),t.YNc(4,nt,3,2,"li",21),t.qZA()),2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("ngForOf",e.attendanceData)}}function ot(n,i){if(1&n&&(t.TgZ(0,"div",37),t.YNc(1,X,36,15,"div",38),t.YNc(2,at,5,1,"div",39),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.attendanceAttributeData),t.xp6(1),t.Q6J("ngIf",e.attendanceData.length>0)}}function it(n,i){1&n&&(t.TgZ(0,"div",37)(1,"div",40)(2,"p")(3,"strong"),t._uU(4,"No Time Sheet data found for today."),t.qZA()()(),t.TgZ(5,"div",47)(6,"p")(7,"strong"),t._uU(8,"No Activity data found for today."),t.qZA()()()())}function rt(n,i){1&n&&(t.TgZ(0,"div",37)(1,"div",49),t._UZ(2,"img",50),t.qZA()())}function ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.preventClose(o))}),t.TgZ(2,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleTabs())}),t._UZ(3,"i",29),t.qZA(),t.TgZ(4,"div",30)(5,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleTabs())}),t._UZ(6,"i",29),t.qZA(),t.TgZ(7,"div",32),t.YNc(8,ot,3,2,"div",33),t.YNc(9,it,9,0,"div",33),t.YNc(10,rt,3,0,"div",33),t.TgZ(11,"div",34)(12,"div",35)(13,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleTabs())}),t._uU(14,"Close"),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","P"===e.selectedRecord),t.xp6(1),t.Q6J("ngIf","A"===e.selectedRecord),t.xp6(1),t.Q6J("ngIf","H"===e.selectedRecord)}}let lt=(()=>{class n{constructor(e,a,o){this.attendanceService=e,this.cdr=a,this.toastr=o,this.list1=[],this.attendanceDetailData=[],this.allEmployeesAttendanceData=[],this.showTabs=!1,this.attendanceData=[],this.attendanceAttributeData=[],this.empRegId=null,this.fullName=null,this.searchModel={month:"",year:""},this.months=[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}],this.years=[2022,2023,2024,2025,2026]}ngOnInit(){this.empRegId=this.getEmpRegId(),this.empRegId&&this.fetchUserName(this.empRegId)}ngAfterViewInit(){this.initializeDates(),this.empRegId&&(6===parseInt(this.empRegId,10)?this.fetchAllEmployeesAttendanceDataForMonth():this.fetchAttendanceDataForMonth(this.empRegId)),this.cdr.detectChanges()}onSearch(e){const a=new Date,o=Number(this.searchModel.year),r=Number(this.searchModel.month);if(new Date(o,r-1,1)>a)return this.initializeDates(o,r),this.clearAttendanceData(),void this.toastr.error("Data not available for the selected month and year.");this.initializeDates(o,r),this.empRegId&&(6===parseInt(this.empRegId,10)?this.fetchAllEmployeesAttendanceDataForMonth(o,r):this.fetchAttendanceDataForMonth(this.empRegId,o,r))}isFormValid(){return!!this.searchModel.month&&!!this.searchModel.year}initializeDates(e=(new Date).getFullYear(),a=(new Date).getMonth()+1){const o=new Date(e,a,0).getDate();this.list1=[];for(let r=1;r<=o;r++){const c=r<10?`0${r}`:r.toString(),l=a<10?`0${a}`:a.toString();this.list1.push({date:`${c}-${l}-${e}`})}}clearAttendanceData(){this.attendanceDetailData=this.list1.map(()=>({records:[]})),this.allEmployeesAttendanceData=this.allEmployeesAttendanceData.map(e=>({...e,attendanceDetailData:[]}))}fetchAttendanceDataForMonth(e,a=(new Date).getFullYear(),o=(new Date).getMonth()+1){const r=new Date,c=r.getFullYear(),l=r.getMonth()+1,m=r.getDate();this.attendanceDetailData=Array(this.list1.length).fill(null).map(()=>({records:[]})),!(a>c||a===c&&o>l)&&(a<c||a===c&&o<l?this.list1.forEach((g,x)=>{const[A,C,v]=g.date.split("-");this.fetchDataForDate(e,`${v}-${C}-${A}`,x)}):this.list1.slice(0,m).forEach((g,x)=>{const[A,C,v]=g.date.split("-");this.fetchDataForDate(e,`${v}-${C}-${A}`,x)}))}fetchDataForDate(e,a,o){const c=0===new Date(a).getDay();this.attendanceDetailData[o]||(this.attendanceDetailData[o]={records:[]}),c?this.attendanceDetailData[o].records[0]="H":this.attendanceService.getEmployeeAttendanceForDate(e,a).subscribe(l=>{l&&(this.attendanceDetailData[o].records[0]="P")},l=>{500===l.status&&(this.attendanceDetailData[o].records[0]="A")})}toggleTabs(){this.showTabs=!this.showTabs}openPopup(e,a,o){this.selectedRecord=a;const[r,c,l]=o.split("-"),m=`${l}-${c}-${r}`;this.showTabs=!0,0===new Date(`${l}-${c}-${r}`).getDay()?this.selectedRecord="H":"A"===a?this.selectedRecord="A":"P"===a&&(this.getAttendanceList(m),this.getAttendanceAttributeData(m))}preventClose(e){e.stopPropagation()}getEmpRegId(){const e=localStorage.getItem("token");return e&&JSON.parse(atob(e.split(".")[1])).EmpRegId||null}fetchUserName(e){this.attendanceService.getUserNameById(e).subscribe(a=>{a&&200===a.statusCode?this.fullName=a.data.fullName:console.error("Failed to fetch user name")},a=>{console.error("Error fetching user name",a)})}getAttendanceList(e){const a=this.getEmpRegId();a?this.attendanceService.getAttendanceListWithId(a,e).subscribe(o=>{this.attendanceData=o},o=>{console.error("Error fetching attendance data",o)}):console.error("User ID not found.")}getAttendanceAttributeData(e){const a=this.getEmpRegId();a?this.attendanceService.getAttendanceListWithAttribute(a,e).subscribe(o=>{0===Object.keys(o).length&&o.constructor===Object?console.log("No attendance data available."):this.attendanceAttributeData=[o]},o=>{console.error("Error fetching attendance data",o)}):console.error("User ID not found.")}extractTime(e){if(!e)return"00:00";const a=e.split(" ");return a.length<5?"00:00":a[3]+" "+a[4]}fetchAllEmployeesAttendanceDataForMonth(e=(new Date).getFullYear(),a=(new Date).getMonth()+1){const o=new Date,r=o.getFullYear(),c=o.getMonth()+1,l=o.getDate();this.attendanceService.getAllEmployees().subscribe(m=>{this.allEmployeesAttendanceData=m.map(g=>({fullName:g.fullName,attendanceDetailData:Array(this.list1.length).fill(null).map(()=>({records:[]}))})),m.forEach((g,x)=>{e<r||e===r&&a<c?this.list1.forEach((A,C)=>{const[v,M,P]=A.date.split("-");this.fetchDataForEmployeeDate(g.empPersDtlId,`${P}-${M}-${v}`,x,C)}):e===r&&a===c&&this.list1.slice(0,l).forEach((A,C)=>{const[v,M,P]=A.date.split("-");this.fetchDataForEmployeeDate(g.empPersDtlId,`${P}-${M}-${v}`,x,C)})})},m=>{console.error("Error fetching employee details",m)})}fetchDataForEmployeeDate(e,a,o,r){0===new Date(a).getDay()?this.allEmployeesAttendanceData[o].attendanceDetailData[r].records[0]="H":this.attendanceService.getEmployeeAttendanceForDate(e.toString(),a).subscribe(m=>{m&&(this.allEmployeesAttendanceData[o].attendanceDetailData[r].records[0]="P")},m=>{500===m.status&&(this.allEmployeesAttendanceData[o].attendanceDetailData[r].records[0]="A")})}isEmpRegIdSix(){return!!this.empRegId&&6===parseInt(this.empRegId,10)}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(w),t.Y36(t.sBO),t.Y36(O._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-attendance-list"]],decls:30,vars:8,consts:[[1,"attendance",2,"margin-left","2%","margin-top","40px"],[1,"form1",3,"ngSubmit"],["searchForm","ngForm"],[1,"mb-4",2,"margin-left","0"],["mdbValidate","","mdbInput","","id","form8Example4","name","month","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["mdbLabel","","for","form8Example4",1,"form-label"],[1,"text-danger"],[1,"fas","fa-caret-down",2,"position","absolute","top","50%","transform","translateY(-50%)","right","10px","pointer-events","none"],[1,"mb-4"],["mdbValidate","","mdbInput","","id","form8Example4","name","year","required","",1,"form-control",3,"ngModel","ngModelChange"],["mdbRipple","","type","submit",1,"btn","mb-4","btn-primary","btn-rounded",3,"disabled"],[4,"ngIf","ngIfElse"],["userSpecificData",""],["class","modal-overlay",4,"ngIf"],[3,"value"],[1,"cardx",2,"border","1px solid lightgray","margin","15px 14px","border-radius","10px","overflow","scroll","height","400px","width","93vw"],[1,"table","align-middle","bg-white",2,"position","relative"],[1,"bg-light",2,"position","sticky","top","0px"],[1,"sticky"],[4,"ngFor","ngForOf"],["style","cursor: pointer; text-align: center;",3,"ngClass","click",4,"ngFor","ngForOf"],[2,"cursor","pointer","text-align","center",3,"ngClass","click"],[3,"ngClass"],["style","cursor: pointer;text-align: center;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"modal-overlay"],[1,"modal-dialog",2,"position","relative",3,"click"],["mat-icon-button","",2,"position","absolute","top","-20px","right","-20px","cursor","pointer",3,"click"],[1,"far","fa-times-circle",2,"background-color","orange","border-radius","14px"],[1,"modal-content"],["mat-icon-button","",2,"position","absolute","top","-20px","right","-20px","cursor","pointer","z-index","30",3,"click"],[1,"model-body"],["class","content-container",4,"ngIf"],[1,"mycontainer",2,"margin-top","10px"],[2,"text-align","right","position","relative"],["type","button",1,"btn","btn-outline-primary","btn-rounded","cancel-button",3,"click"],[1,"content-container"],["class","timesheet card",4,"ngFor","ngForOf"],["class","activity card",4,"ngIf"],[1,"timesheet","card"],[1,"punch"],[1,"time"],[1,"punch",2,"margin-top","3%"],[1,"break-ov"],[1,"break"],[1,"overtime"],[1,"activity","card"],[4,"ngIf"],[1,"row"],["src","https://images.news18.com/ibnlive/uploads/2023/03/happy-holi-2023-images-and-wishes-4.jpg","alt",""]],template:function(a,o){if(1&a){const r=t.EpF();t._UZ(0,"app-attendance-sub-header"),t.TgZ(1,"div",0)(2,"h2"),t._uU(3,"Attendance List"),t.qZA()(),t.TgZ(4,"form",1,2),t.NdJ("ngSubmit",function(){t.CHM(r);const l=t.MAs(5);return t.KtG(o.onSearch(l))}),t.TgZ(6,"mdb-form-control",3)(7,"select",4),t.NdJ("ngModelChange",function(l){return o.searchModel.month=l}),t._UZ(8,"option",5),t.YNc(9,L,2,2,"option",6),t.qZA(),t.TgZ(10,"label",7),t._uU(11,"Select Month"),t.TgZ(12,"span",8),t._uU(13," *"),t.qZA()(),t._UZ(14,"i",9),t.qZA(),t.TgZ(15,"mdb-form-control",10)(16,"select",11),t.NdJ("ngModelChange",function(l){return o.searchModel.year=l}),t._UZ(17,"option",5),t.YNc(18,j,2,2,"option",6),t.qZA(),t.TgZ(19,"label",7),t._uU(20,"Select Year"),t.TgZ(21,"span",8),t._uU(22," *"),t.qZA()(),t._UZ(23,"i",9),t.qZA(),t.TgZ(24,"button",12),t._uU(25," Search "),t.qZA()(),t.YNc(26,W,10,2,"div",13),t.YNc(27,V,12,3,"ng-template",null,14,t.W1O),t.YNc(29,ct,15,3,"div",15)}if(2&a){const r=t.MAs(28);t.xp6(7),t.Q6J("ngModel",o.searchModel.month),t.xp6(2),t.Q6J("ngForOf",o.months),t.xp6(7),t.Q6J("ngModel",o.searchModel.year),t.xp6(2),t.Q6J("ngForOf",o.years),t.xp6(6),t.Q6J("disabled",!o.isFormValid()),t.xp6(2),t.Q6J("ngIf",o.empRegId&&o.isEmpRegIdSix())("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",o.showTabs)}},dependencies:[u.mk,u.sg,u.O5,D.pv,q.e,h.Af,h.VP,h.o8,d._Y,d.YN,d.Kr,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,k.RK,Z,u.uU],styles:['td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{white-space:nowrap}.form1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2%;text-align:center}.form1[_ngcontent-%COMP%]   .mb-4[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.form1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:auto}.card[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);border:1px solid rgb(174,174,175);border-radius:10px;padding:20px;box-shadow:0 4px 6px #0000001a;background-color:#fff;margin:10px}.menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:100%;width:100%}.timesheet[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]{flex:1 1 calc(48% - 20px);margin:10px;padding:20px;border:1px solid rgb(174,174,175);border-radius:10px;background-color:#fff;text-align:center}.timesheet[_ngcontent-%COMP%]   .punch[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .punch-out[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]{margin-bottom:5%}.timesheet[_ngcontent-%COMP%]   .punch[_ngcontent-%COMP%]{padding:2%;background-color:#f7f2f9;border-radius:10px;border:1px solid rgb(174,174,175)}.timesheet[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin:auto;padding-top:9.5%;white-space:nowrap;height:90px;width:90px;border:3px solid rgb(174,174,175);border-radius:50%;background-color:#f7f2f9}.timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]{height:16%;display:flex;padding-top:5%}.timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]   .break[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]   .overtime[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px;background-color:#f7f2f9;border:1px solid rgb(174,174,175)}.timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]   .overtime[_ngcontent-%COMP%]{margin-left:25%}.activity[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:0}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:.1rem;border-left:1px solid rgb(174,174,175);position:relative;padding-left:20px;margin-left:10px}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:3px;padding-bottom:0}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:15px;height:15px;background:white;border:2px solid orange;border-radius:50%;position:absolute;left:-8px;top:0}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f1e7c5}tr[_ngcontent-%COMP%]{height:30px}@media (min-width: 768px){.form1[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.form1[_ngcontent-%COMP%]   .mb-4[_ngcontent-%COMP%]{width:100%;margin-bottom:0;margin-left:4%}.form1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:30%;margin-left:4%}}.present[_ngcontent-%COMP%]{color:#3b85ed}.absent[_ngcontent-%COMP%]{color:#ff2414}.holiday[_ngcontent-%COMP%]{color:orange}.modal-overlay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:1000;left:0}.close-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border:0;outline:0}.modal-content[_ngcontent-%COMP%]{position:relative;border-radius:20px;background:white;padding:10px}.model-body[_ngcontent-%COMP%]{border-bottom:0px solid black}.content-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1%;padding-top:15px}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{height:100%!important;width:350px!important}.content-container[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.timesheet[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]{flex:1 1 100%}}@media (max-width: 667px){.modal-content[_ngcontent-%COMP%]{height:390px;width:700px}}@media (min-width: 769px){.modal-content[_ngcontent-%COMP%]{height:100%;width:50vw}}.clickable[_ngcontent-%COMP%]:hover{background-color:#fdf5f5}.sticky[_ngcontent-%COMP%]{position:sticky;left:0;background-color:#fff}']})}return n})();var T=p(1476),f=p(3566),s=p(5313),b=p(6311),E=p(8337);function dt(n,i){if(1&n&&(t.TgZ(0,"div",31)(1,"h4")(2,"b"),t._uU(3),t.ALo(4,"date"),t.qZA()(),t.TgZ(5,"div",32)(6,"p")(7,"b"),t._uU(8,"Punch In at"),t.qZA(),t._UZ(9,"br"),t._uU(10),t.ALo(11,"date"),t.qZA()(),t.TgZ(12,"div",33)(13,"p")(14,"b"),t._uU(15),t.qZA()()(),t.TgZ(16,"div",32)(17,"p")(18,"b"),t._uU(19,"Punch Out at"),t.qZA(),t._UZ(20,"br"),t._uU(21),t.ALo(22,"date"),t.qZA()(),t.TgZ(23,"div",34)(24,"div",35)(25,"p")(26,"b"),t._uU(27,"Break"),t.qZA(),t._UZ(28,"br"),t._uU(29," 00:00 hrs "),t.qZA()(),t.TgZ(30,"div",36)(31,"p")(32,"b"),t._uU(33,"Overtime "),t.qZA(),t._UZ(34,"br"),t._uU(35," 00:00 hrs "),t.qZA()()()()),2&n){const e=i.$implicit,a=t.oxw();t.xp6(3),t.hij("Time Sheet ",t.xi3(4,6,e.loginDate,"dd MMM yyyy"),""),t.xp6(7),t.AsE(" ",t.xi3(11,9,e.loginDate,"EEE, dd MMM yyyy")," ",a.extractTime(e.inTime)," "),t.xp6(5),t.hij("",e.totalTime.slice(0,5)," hrs"),t.xp6(6),t.AsE(" ",t.xi3(22,12,e.loginDate,"EEE, dd MMM yyyy")," ",a.extractTime(e.outTime)," ")}}function st(n,i){1&n&&(t.TgZ(0,"div",31)(1,"p")(2,"strong"),t._uU(3,"No Time Sheet data found for today."),t.qZA()()())}function pt(n,i){if(1&n&&(t.TgZ(0,"div",39)(1,"p"),t._uU(2),t.TgZ(3,"strong"),t._uU(4),t.TgZ(5,"small"),t._uU(6," /8 hrs"),t.qZA()()(),t.TgZ(7,"div",40),t._UZ(8,"div",41),t.qZA()()),2&n){const e=i.$implicit,a=i.index,o=t.oxw(2);t.xp6(2),t.hij(" ",o.getDayOfWeek(a)," "),t.xp6(2),t.hij("",(null==e?null:e.totalTime)||"0"," "),t.xp6(4),t.Udp("width",o.calculateProgress(null==e?null:e.totalTime),"%"),t.Q6J("ngClass",o.getProgressBarColor(a)),t.uIk("aria-valuenow",o.calculateProgress(null==e?null:e.totalTime))}}function mt(n,i){if(1&n&&(t.TgZ(0,"div",37)(1,"h4")(2,"b"),t._uU(3,"Statistics"),t.qZA()(),t.YNc(4,pt,9,6,"div",38),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.attendanceWeekData)}}function ut(n,i){1&n&&(t.TgZ(0,"div",37)(1,"p")(2,"strong"),t._uU(3,"No Statistics data found for today."),t.qZA()()())}function gt(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("Punch In at ----- ",e.time,"")}}function _t(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("Punch Out at ----- ",e.time,"")}}function ht(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,gt,2,1,"p",44),t.YNc(2,_t,2,1,"p",44),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","Punch In"===e.type),t.xp6(1),t.Q6J("ngIf","Punch Out"===e.type)}}function ft(n,i){if(1&n&&(t.TgZ(0,"div",42)(1,"h4")(2,"b"),t._uU(3,"Activity"),t.qZA()(),t.YNc(4,ht,3,2,"li",43),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.attendanceData)}}function bt(n,i){1&n&&(t.TgZ(0,"div",42)(1,"p")(2,"strong"),t._uU(3,"No Activity data found for today."),t.qZA()()())}function xt(n,i){if(1&n&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function At(n,i){if(1&n&&(t.TgZ(0,"option",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ct(n,i){1&n&&(t.TgZ(0,"th",46),t._uU(1," Id "),t.qZA())}function vt(n,i){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.manualAttendanceId," ")}}function Mt(n,i){1&n&&(t.TgZ(0,"th",46),t._uU(1," Date "),t.qZA())}function Tt(n,i){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.entryDate,"dd/MM/yyyy")," ")}}function yt(n,i){1&n&&(t.TgZ(0,"th",46),t._uU(1," Punch In "),t.qZA())}function Zt(n,i){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.inTime," ")}}function Dt(n,i){1&n&&(t.TgZ(0,"th",46),t._uU(1," Punch Out "),t.qZA())}function wt(n,i){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.outTime," ")}}function Ot(n,i){1&n&&(t.TgZ(0,"th",46),t._uU(1," Total Time "),t.qZA())}function kt(n,i){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.totalTime," ")}}function Pt(n,i){1&n&&(t.TgZ(0,"th",46),t._uU(1," Status "),t.qZA())}function Ut(n,i){1&n&&(t.TgZ(0,"span",51),t._uU(1,"Pending"),t.qZA())}function Nt(n,i){1&n&&(t.TgZ(0,"span",52),t._uU(1,"Approved"),t.qZA())}function qt(n,i){1&n&&(t.TgZ(0,"span",53),t._uU(1,"Rejected"),t.qZA())}function It(n,i){if(1&n&&(t.TgZ(0,"td",47),t.YNc(1,Ut,2,0,"span",48),t.YNc(2,Nt,2,0,"span",49),t.YNc(3,qt,2,0,"span",50),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","pending"===e.statusName.toLowerCase()),t.xp6(1),t.Q6J("ngIf","approved"===e.statusName.toLowerCase()),t.xp6(1),t.Q6J("ngIf","rejected"===e.statusName.toLowerCase())}}function St(n,i){1&n&&t._UZ(0,"tr",54)}function Et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selection.toggle(r))}),t.qZA()}}const Yt=function(){return[7,10,25,100]};let Rt=(()=>{class n{constructor(e,a){this.attendanceService=e,this.toastr=a,this.list1=[],this.manualattendList=[],this.displayedColumns=["manualAttendanceId","entryDate","inTime","outTime","totalTime","statusName"],this.dataSource=new s.by,this.selection=new E.Ov(!0,[]),this.months=[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}],this.years=[2022,2023,2024,2025,2026],this.attendanceData=[],this.attendanceAttributeData=[],this.attendanceWeekData=[],this.searchModel={}}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.getAttendanceList(),this.getAttendanceAttributeData(),this.fetchAttendanceDataForWeek()}isFormValid(){return!!this.searchModel.month&&!!this.searchModel.year}getEmpRegId(){const e=localStorage.getItem("token");return e&&JSON.parse(atob(e.split(".")[1])).EmpRegId||null}getAttendanceList(){const e=this.getEmpRegId();e?this.attendanceService.getEmployeeAttendanceWithId(e).subscribe(a=>{this.attendanceData=a},a=>{}):console.error("User ID not found.")}getAttendanceAttributeData(){const e=this.getEmpRegId();e?this.attendanceService.getEmployeeAttendanceWithAttribute(e).subscribe(a=>{0===Object.keys(a).length&&a.constructor===Object?console.log("No attendance data available."):this.attendanceAttributeData=[a]},a=>{}):console.error("User ID not found.")}fetchAttendanceDataForWeek(){const e=this.getEmpRegId();if(!e)return void console.error("User ID not found.");const o=new Date,r=o.getDay(),c=0===r?6:r;for(let l=0;l<c;l++){const m=new Date(o);m.setDate(o.getDate()-o.getDay()+l+1);const g=this.formatDate(m);this.attendanceService.getAttendanceDataForDay(e,g).subscribe(x=>{this.attendanceWeekData[l]=x})}}formatDate(e){return`${e.getFullYear()}-${this.padZero(e.getMonth()+1)}-${this.padZero(e.getDate())}`}extractTime(e){if(!e)return"00:00";const a=e.split(" ");return a.length<5?"00:00":a[3]+" "+a[4]}padZero(e){return e<10?"0"+e:e.toString()}getDayOfWeek(e){return["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]}calculateProgress(e){if(!e)return 0;const[a,o]=e.split(":").map(Number);return Math.min((60*a+o)/480*100,100)}getProgressBarColor(e){const a=["bg-info","bg-secondary","bg-success","bg-danger","bg-warning","bg-primary"];return a[e%a.length]}onSearch(e){const a=new Date,o=Number(this.searchModel.year),r=Number(this.searchModel.month);new Date(o,r-1,1)>a&&this.toastr.error("Data not available for the selected month and year."),this.fetchAttendanceDataForUser(o,r)}fetchAttendanceDataForUser(e,a){const o=this.getEmpRegId();o?this.attendanceService.getEmployeeAttendanceListWithId(o).subscribe(r=>{const c=r.filter(l=>{const m=new Date(l.entryDate);return m.getFullYear()===e&&m.getMonth()+1===a});console.log("Filtered data:",c),this.manualattendList=c,this.dataSource.data=this.manualattendList},r=>{console.error("Error fetching attendance data:",r)}):console.error("User ID is null or undefined")}ngOnInit(){const e=new Date,a=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");this.today=`${a}-${o}-${r}`;const c=(new Date).getFullYear();for(let l=2020;l<=2030;l++)this.years.push(l);this.fetchAttendanceDataForUser(c,e.getMonth()+1)}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(w),t.Y36(O._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-employee-attendance"]],viewQuery:function(a,o){if(1&a&&(t.Gf(T.NW,5),t.Gf(f.YE,5),t.Gf(b.p6,5)),2&a){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first),t.iGM(r=t.CRH())&&(o.contextMenu=r.first)}},decls:54,vars:17,consts:[[1,"container-fluid",2,"margin-top","40px"],[1,"menu"],["class","timesheet card",4,"ngFor","ngForOf"],["class","timesheet card",4,"ngIf"],["class","statistics card",4,"ngIf"],["class","activity card",4,"ngIf"],[1,"form1",3,"ngSubmit"],["searchForm","ngForm"],[1,"mb-4",2,"margin-left","0"],["mdbValidate","","mdbInput","","id","form8Example4","name","month","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["mdbLabel","","for","form8Example4",1,"form-label"],[1,"text-danger"],[1,"fas","fa-caret-down",2,"position","absolute","top","50%","transform","translateY(-50%)","right","10px","pointer-events","none"],[1,"mb-4"],["mdbValidate","","mdbInput","","id","form8Example4","name","year","required","",1,"form-control",3,"ngModel","ngModelChange"],["mdbRipple","","type","submit",1,"btn","mb-4","btn-primary","btn-rounded",3,"disabled"],[1,"table-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","manualAttendanceId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","entryDate"],["matColumnDef","inTime"],["matColumnDef","outTime"],["matColumnDef","totalTime"],["matColumnDef","statusName"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",1,"paginator",3,"pageSizeOptions"],[1,"timesheet","card"],[1,"punch"],[1,"time"],[1,"break-ov"],[1,"break"],[1,"overtime"],[1,"statistics","card"],["class","stat-info",4,"ngFor","ngForOf"],[1,"stat-info"],[1,"progress"],["role","progressbar",1,"progress-bar","progress-bar-striped",3,"ngClass"],[1,"activity","card"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge bg-warning",4,"ngIf"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"badge","bg-warning"],[1,"badge","bg-success"],[1,"badge","bg-danger"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(a,o){if(1&a){const r=t.EpF();t._UZ(0,"app-attendance-sub-header"),t.TgZ(1,"div",0)(2,"div",1),t.YNc(3,dt,36,15,"div",2),t.YNc(4,st,4,0,"div",3),t.YNc(5,mt,5,1,"div",4),t.YNc(6,ut,4,0,"div",4),t.YNc(7,ft,5,1,"div",5),t.YNc(8,bt,4,0,"div",5),t.qZA(),t.TgZ(9,"form",6,7),t.NdJ("ngSubmit",function(){t.CHM(r);const l=t.MAs(10);return t.KtG(o.onSearch(l))}),t.TgZ(11,"mdb-form-control",8)(12,"select",9),t.NdJ("ngModelChange",function(l){return o.searchModel.month=l}),t._UZ(13,"option",10),t.YNc(14,xt,2,2,"option",11),t.qZA(),t.TgZ(15,"label",12),t._uU(16,"Select Month"),t.TgZ(17,"span",13),t._uU(18," *"),t.qZA()(),t._UZ(19,"i",14),t.qZA(),t.TgZ(20,"mdb-form-control",15)(21,"select",16),t.NdJ("ngModelChange",function(l){return o.searchModel.year=l}),t._UZ(22,"option",10),t.YNc(23,At,2,2,"option",11),t.qZA(),t.TgZ(24,"label",12),t._uU(25,"Select Year"),t.TgZ(26,"span",13),t._uU(27," *"),t.qZA()(),t._UZ(28,"i",14),t.qZA(),t.TgZ(29,"button",17),t._uU(30," Search "),t.qZA()(),t.TgZ(31,"div",18)(32,"table",19),t.ynx(33,20),t.YNc(34,Ct,2,0,"th",21),t.YNc(35,vt,2,1,"td",22),t.BQk(),t.ynx(36,23),t.YNc(37,Mt,2,0,"th",21),t.YNc(38,Tt,3,4,"td",22),t.BQk(),t.ynx(39,24),t.YNc(40,yt,2,0,"th",21),t.YNc(41,Zt,2,1,"td",22),t.BQk(),t.ynx(42,25),t.YNc(43,Dt,2,0,"th",21),t.YNc(44,wt,2,1,"td",22),t.BQk(),t.ynx(45,26),t.YNc(46,Ot,2,0,"th",21),t.YNc(47,kt,2,1,"td",22),t.BQk(),t.ynx(48,27),t.YNc(49,Pt,2,0,"th",21),t.YNc(50,It,4,3,"td",22),t.BQk(),t.YNc(51,St,1,0,"tr",28),t.YNc(52,Et,1,0,"tr",29),t.qZA()(),t._UZ(53,"mat-paginator",30),t.qZA()}2&a&&(t.xp6(3),t.Q6J("ngForOf",o.attendanceAttributeData),t.xp6(1),t.Q6J("ngIf",0===o.attendanceAttributeData.length),t.xp6(1),t.Q6J("ngIf",o.attendanceWeekData.length>0),t.xp6(1),t.Q6J("ngIf",0===o.attendanceWeekData.length),t.xp6(1),t.Q6J("ngIf",o.attendanceData.length>0),t.xp6(1),t.Q6J("ngIf",0===o.attendanceData.length),t.xp6(4),t.Q6J("ngModel",o.searchModel.month),t.xp6(2),t.Q6J("ngForOf",o.months),t.xp6(7),t.Q6J("ngModel",o.searchModel.year),t.xp6(2),t.Q6J("ngForOf",o.years),t.xp6(6),t.Q6J("disabled",!o.isFormValid()),t.xp6(3),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(16,Yt)))},dependencies:[u.mk,u.sg,u.O5,D.pv,q.e,h.Af,h.VP,h.o8,d._Y,d.YN,d.Kr,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,T.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,f.YE,f.nU,Z,u.uU],styles:['.card[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 20px);border:1px solid rgb(174,174,175);border-radius:10px;padding:20px;box-shadow:0 4px 6px #0000001a;background-color:#fff;margin:10px}.menu[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:100%;width:100%}.timesheet[_ngcontent-%COMP%], .statistics[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]{margin:10px;text-align:center;padding:2%;border:1px solid rgb(174,174,175);border-radius:10px;flex:1 1 calc(100% - 40px)}.timesheet[_ngcontent-%COMP%]   .punch[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .punch-out[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]{margin-bottom:15px}.timesheet[_ngcontent-%COMP%]   .punch[_ngcontent-%COMP%]{padding:2%;background-color:#f7f2f9;border-radius:10px;border:1px solid rgb(174,174,175)}.timesheet[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{margin:auto;padding-top:8.5%;white-space:nowrap;height:90px;width:90px;border:3px solid rgb(174,174,175);border-radius:50%;background-color:#f7f2f9}.timesheet[_ngcontent-%COMP%]   .punch-out[_ngcontent-%COMP%]{padding:5%}.timesheet[_ngcontent-%COMP%]   .punch-out[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:50px;width:150px;color:#fff;background:orange;border-radius:30px}.timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]{height:16%;display:flex;padding-top:5%}.timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]   .break[_ngcontent-%COMP%], .timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]   .overtime[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:5px;background-color:#f7f2f9;border:1px solid rgb(174,174,175);margin-bottom:10px}.timesheet[_ngcontent-%COMP%]   .break-ov[_ngcontent-%COMP%]   .overtime[_ngcontent-%COMP%]{margin-left:25%}.statistics[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{margin:2%;padding:2%;border:1px solid rgb(174,174,175);border-radius:5px}.statistics[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:4px;border-radius:5px}.activity[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:0}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:.1rem;border-left:1px solid rgb(174,174,175);position:relative;padding-left:20px;margin-left:10px}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:3px;padding-bottom:0}.activity[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";width:15px;height:15px;background:white;border:2px solid orange;border-radius:50%;position:absolute;left:-8px;top:0}.form1[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:2%;text-align:center}.form1[_ngcontent-%COMP%]   .mb-4[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.form1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:auto}.table-container[_ngcontent-%COMP%]{position:relative;height:300px;overflow:auto;z-index:0}@media (min-width: 768px){.timesheet[_ngcontent-%COMP%], .statistics[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 40px)}.form1[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.form1[_ngcontent-%COMP%]   .mb-4[_ngcontent-%COMP%]{width:100%;margin-bottom:0;margin-left:4%}.form1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:30%;margin-left:4%}}@media (min-width: 1200px){.timesheet[_ngcontent-%COMP%], .statistics[_ngcontent-%COMP%], .activity[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 40px)}}']})}return n})();var Y=p(617),Jt=p(5986);function Ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"th",21)(1,"mat-checkbox",22),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(o?r.toggleAllRows():null)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function Qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",23)(1,"mat-checkbox",24),t.NdJ("click",function(o){return o.stopPropagation()})("change",function(o){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(o?l.selection.toggle(c):null)}),t.qZA()()}if(2&n){const e=i.$implicit,a=t.oxw();t.xp6(1),t.Q6J("checked",a.selection.isSelected(e))("aria-label",a.checkboxLabel(e))}}function $t(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Employee Id "),t.qZA())}function Lt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.empRegId," ")}}function jt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Employee Name "),t.qZA())}function Ht(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.empRegName," ")}}function Gt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Supervisor"),t.qZA())}function Bt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.supervisor," ")}}function Wt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Date "),t.qZA())}function Kt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.entryDate,"dd/MM/yyyy")," ")}}function zt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Punch In "),t.qZA())}function Vt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.inTime," ")}}function Xt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Punch Out "),t.qZA())}function te(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.outTime," ")}}function ee(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Total Time "),t.qZA())}function ne(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.totalTime," ")}}function ae(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Status"),t.qZA())}function oe(n,i){1&n&&(t.TgZ(0,"span",29),t._uU(1,"Pending"),t.qZA())}function ie(n,i){1&n&&(t.TgZ(0,"span",30),t._uU(1,"Approved"),t.qZA())}function re(n,i){1&n&&(t.TgZ(0,"span",31),t._uU(1,"Rejected"),t.qZA())}function ce(n,i){if(1&n&&(t.TgZ(0,"td",23),t.YNc(1,oe,2,0,"span",26),t.YNc(2,ie,2,0,"span",27),t.YNc(3,re,2,0,"span",28),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","pending"===e.statusName.toLowerCase()),t.xp6(1),t.Q6J("ngIf","approved"===e.statusName.toLowerCase()),t.xp6(1),t.Q6J("ngIf","rejected"===e.statusName.toLowerCase())}}function le(n,i){1&n&&(t.TgZ(0,"th",21),t._uU(1," Action "),t.qZA())}function de(n,i){if(1&n&&(t.TgZ(0,"td",23)(1,"button",32)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,33)(6,"button",34),t._UZ(7,"i",35),t._uU(8," Edit"),t.qZA(),t.TgZ(9,"button",34),t._UZ(10,"i",36),t._uU(11,"Delete"),t.qZA()()()),2&n){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function se(n,i){1&n&&t._UZ(0,"tr",37)}function pe(n,i){1&n&&t._UZ(0,"tr",38)}const me=function(){return[7,10,25,100]};let ue=(()=>{class n{constructor(e,a){this.attendanceService=e,this.toastr=a,this.manualattendList=[],this.displayedColumns=["select","empRegId","empRegName","supervisor","entryDate","inTime","outTime","totalTime","statusName","action"],this.dataSource=new s.by,this.selection=new E.Ov(!0,[]),this.dataSource=new s.by}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.getAttendanceList()}getEmpRegId(){const e=localStorage.getItem("token");return e&&JSON.parse(atob(e.split(".")[1])).EmpRegId||null}getAttendanceList(){const e=this.getEmpRegId();e?this.attendanceService.getAttendanceSupervisorListWithId(e).subscribe(a=>{this.manualattendList=a,this.dataSource.data=this.manualattendList},a=>{console.error("Error fetching attendance data:",a),this.toastr.error("Failed to fetch attendance data.")}):console.error("User ID not found.")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.empRegId+1}`:(this.isAllSelected()?"deselect":"select")+" all"}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(w),t.Y36(O._W))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-approve-reject"]],viewQuery:function(a,o){if(1&a&&(t.Gf(T.NW,5),t.Gf(f.YE,5),t.Gf(b.p6,5)),2&a){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first),t.iGM(r=t.CRH())&&(o.contextMenu=r.first)}},decls:39,vars:6,consts:[[1,"container-fluid",2,"margin-top","50px"],[1,"row"],[1,"col-md-12"],[1,"table-container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","empRegId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","empRegName"],["matColumnDef","supervisor"],["matColumnDef","entryDate"],["matColumnDef","inTime"],["matColumnDef","outTime"],["matColumnDef","totalTime"],["matColumnDef","statusName"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",1,"paginator",3,"pageSizeOptions"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header",""],["class","badge bg-warning",4,"ngIf"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"badge","bg-warning"],[1,"badge","bg-success"],[1,"badge","bg-danger"],["mat-icon-button","","aria-label","Toggle menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],[1,"fa","fa-pencil","m-r-5","p-2"],[1,"fa-regular","fa-trash-can","m-r-5","p-2"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t._UZ(0,"app-attendance-sub-header"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"table",4),t.ynx(6,5),t.YNc(7,Ft,2,3,"th",6),t.YNc(8,Qt,2,2,"td",7),t.BQk(),t.ynx(9,8),t.YNc(10,$t,2,0,"th",9),t.YNc(11,Lt,2,1,"td",7),t.BQk(),t.ynx(12,10),t.YNc(13,jt,2,0,"th",9),t.YNc(14,Ht,2,1,"td",7),t.BQk(),t.ynx(15,11),t.YNc(16,Gt,2,0,"th",9),t.YNc(17,Bt,2,1,"td",7),t.BQk(),t.ynx(18,12),t.YNc(19,Wt,2,0,"th",9),t.YNc(20,Kt,3,4,"td",7),t.BQk(),t.ynx(21,13),t.YNc(22,zt,2,0,"th",9),t.YNc(23,Vt,2,1,"td",7),t.BQk(),t.ynx(24,14),t.YNc(25,Xt,2,0,"th",9),t.YNc(26,te,2,1,"td",7),t.BQk(),t.ynx(27,15),t.YNc(28,ee,2,0,"th",9),t.YNc(29,ne,2,1,"td",7),t.BQk(),t.ynx(30,16),t.YNc(31,ae,2,0,"th",9),t.YNc(32,ce,4,3,"td",7),t.BQk(),t.ynx(33,17),t.YNc(34,le,2,0,"th",6),t.YNc(35,de,12,1,"td",7),t.BQk(),t.YNc(36,se,1,0,"tr",18),t.YNc(37,pe,1,0,"tr",19),t.qZA()(),t._UZ(38,"mat-paginator",20),t.qZA()()()),2&a&&(t.xp6(5),t.Q6J("dataSource",o.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,me)))},dependencies:[u.O5,T.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,Y.Hw,k.RK,b.VK,b.OP,b.p6,f.YE,f.nU,Jt.oG,Z,u.uU],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}.pay-policy[_ngcontent-%COMP%], .attendance-sheet[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border:1px solid #dddddd;border-radius:8px;height:100%}@media (max-width: 768px){.row[_ngcontent-%COMP%]{flex-direction:column}.col-md-4[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}}"]})}return n})();var ge=p(2596),R=p(4170),_e=p(4516),J=p(6290);function he(n,i){1&n&&t._UZ(0,"mdb-error")}function fe(n,i){1&n&&t._UZ(0,"mdb-success")}function be(n,i){1&n&&t._UZ(0,"mdb-error")}function xe(n,i){1&n&&t._UZ(0,"mdb-success")}function Ae(n,i){1&n&&t._UZ(0,"mdb-error")}function Ce(n,i){1&n&&t._UZ(0,"mdb-success")}function ve(n,i){1&n&&t._UZ(0,"mdb-error")}function Me(n,i){1&n&&t._UZ(0,"mdb-success")}function Te(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.preventClose(o))}),t.TgZ(2,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleTabs())}),t._UZ(3,"i",35),t.qZA(),t.TgZ(4,"form",36)(5,"form",37),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSubmit(o.validationForm))}),t.TgZ(6,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleTabs())}),t._UZ(7,"i",35),t.qZA(),t.TgZ(8,"div",39)(9,"div",40)(10,"div",41)(11,"h2",42)(12,"b"),t._uU(13,"Add Attendance"),t.qZA()()(),t.TgZ(14,"div",43)(15,"div",44)(16,"div",45)(17,"mdb-form-control")(18,"select",46),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.type=o)}),t._UZ(19,"option",47),t.TgZ(20,"option",48),t._uU(21,"Punch In"),t.qZA(),t.TgZ(22,"option",49),t._uU(23,"Punch Out"),t.qZA()(),t.TgZ(24,"label",50),t._uU(25,"Attendance type \xa0"),t.TgZ(26,"span",51),t._uU(27,"*"),t.qZA()(),t._UZ(28,"i",52),t.YNc(29,he,1,0,"mdb-error",53),t.YNc(30,fe,1,0,"mdb-success",53),t.qZA()(),t.TgZ(31,"div",45)(32,"mdb-form-control")(33,"input",54),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.date=o)}),t.qZA(),t.TgZ(34,"label",55),t._uU(35,"Enter Date \xa0"),t.TgZ(36,"span",51),t._uU(37,"*"),t.qZA()(),t.YNc(38,be,1,0,"mdb-error",53),t.YNc(39,xe,1,0,"mdb-success",53),t.qZA()(),t.TgZ(40,"div",45)(41,"mdb-form-control")(42,"input",56),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.time=o)}),t.qZA(),t.TgZ(43,"label",55),t._uU(44,"Enter Time \xa0"),t.TgZ(45,"span",51),t._uU(46,"*"),t.qZA()(),t._UZ(47,"ngx-material-timepicker",null,57),t.YNc(49,Ae,1,0,"mdb-error",53),t.YNc(50,Ce,1,0,"mdb-success",53),t.qZA()()(),t.TgZ(51,"div",44)(52,"div",45)(53,"mdb-form-control")(54,"textarea",58),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.remarks=o)}),t.qZA(),t.TgZ(55,"label",55),t._uU(56,"Description \xa0"),t.TgZ(57,"span"),t._uU(58,"*"),t.qZA()(),t.YNc(59,ve,1,0,"mdb-error",53),t.YNc(60,Me,1,0,"mdb-success",53),t.qZA()()()(),t._UZ(61,"br")(62,"div",59)(63,"br"),t.TgZ(64,"div",60)(65,"div",61)(66,"span",62),t._uU(67,"*"),t.qZA(),t._uU(68," Required "),t.qZA(),t.TgZ(69,"div",63)(70,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.toggleTabs())}),t._uU(71,"Cancel"),t.qZA()(),t.TgZ(72,"div",65)(73,"button",66),t._uU(74,"Submit"),t.qZA()()()()()()()()()}if(2&n){const e=t.MAs(48),a=t.oxw();t.xp6(5),t.Q6J("formGroup",a.validationForm),t.xp6(13),t.Q6J("required",!0)("ngModel",a.type),t.xp6(11),t.Q6J("ngIf",(null==a.atteType?null:a.atteType.invalid)&&((null==a.atteType?null:a.atteType.dirty)||(null==a.atteType?null:a.atteType.touched))),t.xp6(1),t.Q6J("ngIf",(null==a.atteType?null:a.atteType.valid)&&((null==a.atteType?null:a.atteType.dirty)||(null==a.atteType?null:a.atteType.touched))),t.xp6(3),t.Q6J("ngModel",a.date),t.xp6(5),t.Q6J("ngIf",(null==a.atteDate?null:a.atteDate.invalid)&&((null==a.atteDate?null:a.atteDate.dirty)||(null==a.atteDate?null:a.atteDate.touched))),t.xp6(1),t.Q6J("ngIf",(null==a.atteDate?null:a.atteDate.valid)&&((null==a.atteDate?null:a.atteDate.dirty)||(null==a.atteDate?null:a.atteDate.touched))),t.xp6(3),t.Q6J("ngxTimepicker",e)("ngModel",a.time),t.xp6(7),t.Q6J("ngIf",(null==a.atteTime?null:a.atteTime.invalid)&&((null==a.atteTime?null:a.atteTime.dirty)||(null==a.atteTime?null:a.atteTime.touched))),t.xp6(1),t.Q6J("ngIf",(null==a.atteTime?null:a.atteTime.valid)&&((null==a.atteTime?null:a.atteTime.dirty)||(null==a.atteTime?null:a.atteTime.touched))),t.xp6(4),t.Q6J("ngModel",a.remarks),t.xp6(5),t.Q6J("ngIf",(null==a.atteDesc?null:a.atteDesc.invalid)&&((null==a.atteDesc?null:a.atteDesc.dirty)||(null==a.atteDesc?null:a.atteDesc.touched))),t.xp6(1),t.Q6J("ngIf",(null==a.atteDesc?null:a.atteDesc.valid)&&((null==a.atteDesc?null:a.atteDesc.dirty)||(null==a.atteDesc?null:a.atteDesc.touched)))}}function ye(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.preventClose(o))}),t.TgZ(2,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeFunction())}),t._UZ(3,"i",35),t.qZA(),t.TgZ(4,"form",67)(5,"button",38),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeFunction())}),t._UZ(6,"i",35),t.qZA(),t.TgZ(7,"div",39)(8,"div",40)(9,"div",41)(10,"h2",42)(11,"b"),t._uU(12,"Edit Attendance"),t.qZA()()(),t.TgZ(13,"div",43)(14,"div",44)(15,"div",45)(16,"mdb-form-control")(17,"select",68),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.type=o)}),t._UZ(18,"option",47),t.TgZ(19,"option",48),t._uU(20,"Punch In"),t.qZA(),t.TgZ(21,"option",49),t._uU(22,"Punch Out"),t.qZA()(),t.TgZ(23,"label",50),t._uU(24,"Attendance type \xa0"),t.TgZ(25,"span",51),t._uU(26,"*"),t.qZA()(),t._UZ(27,"i",52),t.qZA()(),t.TgZ(28,"div",45)(29,"mdb-form-control")(30,"input",69),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.date=o)}),t.qZA(),t.TgZ(31,"label",55),t._uU(32,"Enter Date \xa0"),t.TgZ(33,"span",51),t._uU(34,"*"),t.qZA()()()(),t.TgZ(35,"div",45)(36,"mdb-form-control")(37,"input",70),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.time=o)}),t.qZA(),t.TgZ(38,"label",55),t._uU(39,"Enter Time \xa0"),t.TgZ(40,"span",51),t._uU(41,"*"),t.qZA()(),t._UZ(42,"ngx-material-timepicker",null,57),t.qZA()()(),t.TgZ(44,"div",44)(45,"div",45)(46,"mdb-form-control")(47,"textarea",71),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.remarks=o)}),t.qZA(),t.TgZ(48,"label",55),t._uU(49,"Description \xa0"),t.TgZ(50,"span"),t._uU(51,"*"),t.qZA()()()()()(),t._UZ(52,"div",59)(53,"br"),t.TgZ(54,"div",60)(55,"div",61)(56,"span",62),t._uU(57,"*"),t.qZA(),t._uU(58," Required "),t.qZA(),t.TgZ(59,"div",63)(60,"button",64),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeFunction())}),t._uU(61,"Cancel"),t.qZA()(),t.TgZ(62,"div",65)(63,"button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.editManualAttendancedata())}),t._uU(64,"Submit"),t.qZA()()()()()()()()}if(2&n){const e=t.MAs(43),a=t.oxw();t.xp6(17),t.Q6J("required",!0)("ngModel",a.type),t.xp6(13),t.Q6J("ngModel",a.date),t.xp6(7),t.Q6J("ngxTimepicker",e)("ngModel",a.time),t.xp6(10),t.Q6J("ngModel",a.remarks)}}function Ze(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Id "),t.qZA())}function De(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.manualAttendanceId," ")}}function we(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Attendance Type "),t.qZA())}function Oe(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.type," ")}}function ke(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Date "),t.qZA())}function Pe(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.date,"dd/MM/yyyy")," ")}}function Ue(n,i){1&n&&(t.TgZ(0,"th",75),t._uU(1," Time "),t.qZA())}function Ne(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.time," ")}}function qe(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Description "),t.qZA())}function Ie(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.remarks," ")}}function Se(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Created By "),t.qZA())}function Ee(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.createdBy," ")}}function Ye(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Created On "),t.qZA())}function Re(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdOn,"dd/MM/yyyy")," ")}}function Je(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Updated By "),t.qZA())}function Fe(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.updatedBy," ")}}function Qe(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Updated On "),t.qZA())}function $e(n,i){if(1&n&&(t.TgZ(0,"td",74),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.updatedOn,"dd/MM/yyyy")," ")}}function Le(n,i){1&n&&(t.TgZ(0,"th",73),t._uU(1," Status "),t.qZA())}function je(n,i){1&n&&(t.TgZ(0,"span",79),t._uU(1,"Pending"),t.qZA())}function He(n,i){1&n&&(t.TgZ(0,"span",80),t._uU(1,"Approved"),t.qZA())}function Ge(n,i){1&n&&(t.TgZ(0,"span",81),t._uU(1,"Rejected"),t.qZA())}function Be(n,i){if(1&n&&(t.TgZ(0,"td",74),t.YNc(1,je,2,0,"span",76),t.YNc(2,He,2,0,"span",77),t.YNc(3,Ge,2,0,"span",78),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","pending"===e.statusName.toLowerCase()),t.xp6(1),t.Q6J("ngIf","approved"===e.statusName.toLowerCase()),t.xp6(1),t.Q6J("ngIf","rejected"===e.statusName.toLowerCase())}}function We(n,i){1&n&&(t.TgZ(0,"th",82),t._uU(1," Active "),t.qZA())}function Ke(n,i){1&n&&(t.TgZ(0,"span",85),t._uU(1,"True"),t.qZA())}function ze(n,i){1&n&&(t.TgZ(0,"span",86),t._uU(1,"False"),t.qZA())}function Ve(n,i){if(1&n&&(t.TgZ(0,"td",74),t.YNc(1,Ke,2,0,"span",83),t.YNc(2,ze,2,0,"span",84),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.isActive),t.xp6(1),t.Q6J("ngIf",!e.isActive)}}function Xe(n,i){1&n&&(t.TgZ(0,"th",87),t._uU(1," Actions "),t.qZA())}function tn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",74)(1,"button",88)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,89)(6,"button",90),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.toggleEdit(r.manualAttendanceId))}),t._UZ(7,"i",91),t._uU(8,"Edit"),t.qZA(),t.TgZ(9,"button",92),t._UZ(10,"i",93),t._uU(11,"Delete"),t.qZA()()()}if(2&n){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function en(n,i){1&n&&t._UZ(0,"tr",94)}function nn(n,i){1&n&&t._UZ(0,"tr",95)}function an(n,i){if(1&n&&(t.TgZ(0,"tr",96)(1,"td",97),t._uU(2),t.qZA()()),2&n){t.oxw();const e=t.MAs(11);t.xp6(2),t.hij('No data found "',e.value,'"')}}const on=function(){return[7,10,25,100]},cn=[{path:"main",component:F.C},{path:"atteHeader",component:Z,data:{title:"Attendance/Master"}},{path:"alist",component:lt,data:{title:"Attendance/List"}},{path:"empatt",component:Rt,data:{title:"Attendance/Employee Attendance"}},{path:"apprej",component:ue,data:{title:"Attendance/Approve Reject"}},{path:"manual",component:(()=>{class n{constructor(e,a,o){this.manualAttendance=e,this.toastr=a,this.cdr=o,this.createdOn="",this.type="",this.date="",this.time="",this.remarks="",this.manualattendList=[],this.displayedColumns=["manualAttendanceId","type","date","time","remarks","createdBy","createdOn","updatedBy","updatedOn","statusName","isActive","actions"],this.showTabs=!1,this.showEdits=!1,this.dataSource=new s.by,this.validationForm=new d.cw({atteType:new d.NI(null,{validators:d.kI.required,updateOn:"change"}),atteDate:new d.NI(null,{validators:d.kI.required,updateOn:"change"}),atteTime:new d.NI(null,{validators:d.kI.required,updateOn:"change"}),atteDesc:new d.NI(null,{validators:d.kI.required,updateOn:"change"})})}ngOnInit(){const e=new Date,a=new Date(e);a.setDate(e.getDate()-14),this.today=e.toISOString().split("T")[0],this.twoWeeksAgo=a.toISOString().split("T")[0],console.log("TodayDate:",this.today)}get atteType(){return this.validationForm.get("atteType")}get atteDate(){return this.validationForm.get("atteDate")}get atteTime(){return this.validationForm.get("atteTime")}get atteDesc(){return this.validationForm.get("atteDesc")}onSubmit(e){if(this.validationForm.markAllAsTouched(),e.valid){if("Punch Out"===this.type&&!this.isPunchInExistsForDate(this.date))return void this.toastr.error("Cannot select Punch Out without a corresponding Punch In for the selected date.");this.saveManualAttendancedata()}else this.toastr.error("Please fill in all required details.")}isPunchInExistsForDate(e){return this.manualattendList.some(a=>"Punch In"===a.type&&this.formatDate(a.date)===e)}saveManualAttendancedata(){const e=(new Date).toISOString();this.manualAttendance.saveManualAttendanceDetail({loginDate:"",inTime:"",outTime:"",totalTime:"",type:this.type,date:this.date,time:this.time,remarks:this.remarks,isActive:!0,statusId:1,statusName:"Pending",createdOn:e,empRegName:"",entryDate:"",supervisor:"",updatedOn:e,updatedBy:""}).subscribe(()=>{this.getManualAttendanceList(),this.toastr.success("ManualAttendance save successfully"),this.showTabs=!1,this.type="",this.date="",this.time="",this.remarks=""},o=>{console.error(o),this.toastr.error(500===o.status?"Duplicate ManualAttendance data. Please enter unique data.":"Something went wrong while saving the ManualAttendance details")})}toggleTabs(){this.showTabs=!this.showTabs,this.validationForm.reset(),this.type="",this.date="",this.time="",this.remarks=""}preventClose(e){e.stopPropagation()}toggleEdit(e){this.showEdits=!this.showEdits;let a={};if(a=this.manualattendList.find(o=>o.manualAttendanceId==parseInt(e)),a){if(this.type=a.type,a.date){const o=new Date(a.date),r=o.getDate().toString().padStart(2,"0"),c=(o.getMonth()+1).toString().padStart(2,"0"),l=o.getFullYear();this.date=`${l}-${c}-${r}`}else this.date="";console.log("Formatted Date:",this.date),this.time=a.time,this.remarks=a.remarks,this.manualAttendanceId=a.manualAttendanceId,this.createdOn=a.createdOn,this.cdr.detectChanges()}}preventCloses(e){e.stopPropagation()}closeFunction(){this.showEdits=!this.showEdits,this.type="",this.date="",this.time="",this.remarks=""}editManualAttendancedata(){const e=(new Date).toISOString();this.manualAttendance.editManualAttendanceDetail({loginDate:"",inTime:"",outTime:"",totalTime:"",type:this.type,date:this.date,time:this.time,remarks:this.remarks,statusName:"",isActive:!0,updatedOn:e,createdOn:this.createdOn,empRegName:"",entryDate:"",supervisor:"",updatedBy:""},this.manualAttendanceId).subscribe(()=>{this.getManualAttendanceList(),this.toastr.success("ManualAttendance Updated"),this.showEdits=!1},o=>{console.error(o),this.toastr.error(500===o.status?"Duplicate ManualAttendance data. Please enter unique data.":"Something went wrong while saving the ManualAttendance details")})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.getManualAttendanceList()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}getEmpRegId(){const e=localStorage.getItem("token");return e&&JSON.parse(atob(e.split(".")[1])).EmpRegId||null}getManualAttendanceList(){const e=this.getEmpRegId()||"";e?this.manualAttendance.getManualAttendanceWithId(e).subscribe(a=>{this.manualattendList=a,this.dataSource.data=this.manualattendList}):console.error("Data Not Found.")}formatDate(e){const a="string"==typeof e?new Date(e):e,o=a.getDate().toString().padStart(2,"0"),r=(a.getMonth()+1).toString().padStart(2,"0");return`${a.getFullYear()}-${r}-${o}`}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(w),t.Y36(O._W),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-manual-attendance"]],viewQuery:function(a,o){if(1&a&&(t.Gf(T.NW,5),t.Gf(f.YE,5)),2&a){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first)}},decls:57,vars:7,consts:[["class","modal-overlay",4,"ngIf"],[1,"navbar2","mt-2"],[2,"margin-left","30px","margin-top","50px"],[2,"margin-left","10px","width","180px","margin-right","40px","margin-top","40px"],["matInput","","placeholder","Search Here....",3,"keyup"],["input",""],[1,"round-button"],["mat-fab","","extended","","matTooltip","Add Attendaance ","aria-label","Button that displays a tooltip in various positions","color","warn",3,"click"],[1,"fas","fa-plus","fa-2x",2,"color","rgba(10, 253, 253, 0.773)"],[1,"tablex",2,"background-color","#ECECEC","max-width","96% !important","width","96% !important","overflow","scroll","position","relative","height","320px","margin-top","-40px"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","manualAttendanceId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","date"],["matColumnDef","time"],["mat-header-cell","","mat-sort-header","","class","time",4,"matHeaderCellDef"],["matColumnDef","remarks"],["matColumnDef","createdBy"],["matColumnDef","createdOn"],["matColumnDef","updatedBy"],["matColumnDef","updatedOn"],["matColumnDef","statusName"],["matColumnDef","isActive"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","actionheader",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",1,"pagination",3,"pageSizeOptions"],[1,"modal-overlay"],[1,"modal-dialog",2,"position","relative",3,"click"],["mat-icon-button","",1,"close-icon",2,"position","absolute","top","-20px","right","-20px","cursor","pointer",3,"click"],[1,"far","fa-times-circle",2,"background-color","orange","border-radius","14px"],[1,"modal-content",2,"border","0px solid green","position","relative","border-radius","20px","height","350px","width","600px"],[3,"formGroup","ngSubmit"],["mat-icon-button","",1,"close-icon",2,"position","absolute","top","-20px","right","-20px","cursor","pointer","z-index","30",3,"click"],[1,"model-body",2,"margin-left","40px","border-bottom","0px solid black"],[2,"position","absolute","top","20px","left","20px","width","95%"],[2,"border-bottom","2px solid lightgray","width","95%"],[2,"border","0px solid","margin","0px 0px 7px 0px","color","black"],[1,"commentresp",2,"display","flex","flex-wrap","wrap","gap","4%","border","0px solid","padding-top","15px"],[1,"row"],[1,"col","mb-3"],["mdbValidate","","name","type","formControlName","atteType","mdbInput","","id","form8Example4","aria-labelledby","dropdownMenuLink",1,"form-control",3,"required","ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],["value","Punch In"],["value","Punch Out"],["mdbLabel","","for","form8Example4",1,"form-label"],[1,"text-danger"],[1,"fas","fa-caret-down",2,"position","absolute","top","50%","transform","translateY(-50%)","right","10px"],[4,"ngIf"],["mdbInput","","type","date","id","form1","name","date","formControlName","atteDate",1,"form-control","date-picker-input",3,"ngModel","ngModelChange"],["mdbLabel","","for","form1",1,"form-label"],["mdbValidate","","mdbInput","","type","","id","form1","formControlName","atteTime","name","time","required","",1,"form-control",3,"ngxTimepicker","ngModel","ngModelChange"],["startTimePicker",""],["mdbValidate","","mdbInput","","type","text","id","form1","name","remarks","formControlName","atteDesc","required","",1,"form-control",3,"ngModel","ngModelChange"],[2,"border-bottom","2px solid lightgray","padding-bottom","20px"],[1,"mycontainer"],[1,"req"],[1,"text-danger","req"],[2,"text-align","right"],["type","button","data-mdb-ripple-init","","data-mdb-ripple-color","dark",1,"btn","btn-outline-primary","btn-rounded","cancel-button",3,"click"],[1,"sub"],["type","submit","data-mdb-ripple-init","",1,"btn","btn-primary","btn-rounded"],[1,"modal-content",2,"border","0px solid green","position","relative","border-radius","20px","height","320px","width","600px"],["name","type","mdbInput","","id","form8Example4","aria-labelledby","dropdownMenuLink",1,"form-control",3,"required","ngModel","ngModelChange"],["mdbInput","","type","date","id","form1","name","date","formControlName","atteDate","required","",1,"form-control","date-picker-input",3,"ngModel","ngModelChange"],["mdbInput","","type","","id","form1","name","time","required","",1,"form-control",3,"ngxTimepicker","ngModel","ngModelChange"],["mdbInput","","type","text","id","form1","name","remarks","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","data-mdb-ripple-init","",1,"btn","btn-primary","btn-rounded",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"time"],["class","badge bg-warning",4,"ngIf"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"badge","bg-warning"],[1,"badge","bg-success"],[1,"badge","bg-danger"],["mat-header-cell",""],["class","badge badge-success",4,"ngIf"],["class","badge rounded-pill badge-danger",4,"ngIf"],[1,"badge","badge-success"],[1,"badge","rounded-pill","badge-danger"],["mat-header-cell","",1,"actionheader"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"fa","fa-pencil","m-r-5"],["mat-menu-item",""],[1,"fa-regular","fa-trash-can","m-r-5"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","8",1,"mat-cell"]],template:function(a,o){1&a&&(t._UZ(0,"app-attendance-sub-header"),t.YNc(1,Te,75,15,"div",0),t.YNc(2,ye,65,6,"div",0),t.TgZ(3,"div",1)(4,"div",2)(5,"h2"),t._uU(6,"Attendance Sheet"),t.qZA()(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Filter"),t.qZA(),t.TgZ(10,"input",4,5),t.NdJ("keyup",function(c){return o.applyFilter(c)}),t.qZA()()(),t.TgZ(12,"div",6)(13,"button",7),t.NdJ("click",function(){return o.toggleTabs()}),t._UZ(14,"i",8),t.qZA()(),t.TgZ(15,"div",9)(16,"table",10),t.ynx(17,11),t.YNc(18,Ze,2,0,"th",12),t.YNc(19,De,2,1,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,we,2,0,"th",12),t.YNc(22,Oe,2,1,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,ke,2,0,"th",12),t.YNc(25,Pe,3,4,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,Ue,2,0,"th",17),t.YNc(28,Ne,2,1,"td",13),t.BQk(),t.ynx(29,18),t.YNc(30,qe,2,0,"th",12),t.YNc(31,Ie,2,1,"td",13),t.BQk(),t.ynx(32,19),t.YNc(33,Se,2,0,"th",12),t.YNc(34,Ee,2,1,"td",13),t.BQk(),t.ynx(35,20),t.YNc(36,Ye,2,0,"th",12),t.YNc(37,Re,3,4,"td",13),t.BQk(),t.ynx(38,21),t.YNc(39,Je,2,0,"th",12),t.YNc(40,Fe,2,1,"td",13),t.BQk(),t.ynx(41,22),t.YNc(42,Qe,2,0,"th",12),t.YNc(43,$e,3,4,"td",13),t.BQk(),t.ynx(44,23),t.YNc(45,Le,2,0,"th",12),t.YNc(46,Be,4,3,"td",13),t.BQk(),t.ynx(47,24),t.YNc(48,We,2,0,"th",25),t.YNc(49,Ve,3,2,"td",13),t.BQk(),t.ynx(50,26),t.YNc(51,Xe,2,0,"th",27),t.YNc(52,tn,12,1,"td",13),t.BQk(),t.YNc(53,en,1,0,"tr",28),t.YNc(54,nn,1,0,"tr",29),t.YNc(55,an,3,1,"tr",30),t.qZA()(),t._UZ(56,"mat-paginator",31)),2&a&&(t.xp6(1),t.Q6J("ngIf",o.showTabs),t.xp6(1),t.Q6J("ngIf",o.showEdits),t.xp6(14),t.Q6J("dataSource",o.dataSource),t.xp6(37),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(6,on)))},dependencies:[u.O5,D.$J,D.JM,D.pv,h.Af,h.VP,h.o8,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.On,d.F,d.sg,d.u,T.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee,ge.gM,R.KE,R.hX,Y.Hw,k.RK,k.cs,_e.Nt,b.VK,b.OP,b.p6,J.ro,J.I2,f.YE,f.nU,Z,u.uU],styles:[".main[_ngcontent-%COMP%]{max-width:100%;width:1370px}.tablex[_ngcontent-%COMP%]{margin:auto;border-radius:5px;height:420px!important}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;margin-right:5%;margin-left:450%;height:70px}.time[_ngcontent-%COMP%]{min-width:100px}th[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:5px;white-space:nowrap;position:sticky;top:0}table[_ngcontent-%COMP%]{border-radius:50px!important}.row[_ngcontent-%COMP%]{display:flex;width:100%}@media only screen and (max-width: 650px){#input-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}#input-field[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{margin:1vh}.row[_ngcontent-%COMP%]{flex-direction:column;width:100%}#input-field[_ngcontent-%COMP%]   #searchbtn[_ngcontent-%COMP%]{width:87vw}.tablex[_ngcontent-%COMP%]{margin:auto;border-radius:5px;height:350px!important}.outerbox[_ngcontent-%COMP%]{width:95%}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:80%;height:70px;margin-left:10%;margin-top:10px}.round-button[_ngcontent-%COMP%]{top:200px;right:10px;width:50px;z-index:1}}.modal-overlay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:10}.close-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border:0;outline:0}.header[_ngcontent-%COMP%]{font-weight:600;align-items:center;margin-top:5%}.tex-tbox[_ngcontent-%COMP%]{margin-top:10px;width:150%;margin-left:30%}div.mycontainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 30% 30%}.submit-dialog[_ngcontent-%COMP%]{margin-top:10%}@media screen and (max-width: 768px){.tabx[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 601px){.modal-content[_ngcontent-%COMP%]{background:white;border-radius:5px;height:390px;width:900px;align-items:center;max-height:700px;margin:0;padding:0;overflow:hidden}.xmodal-content[_ngcontent-%COMP%]{background:white;padding:10px;border-radius:5px;height:330px;width:900px;align-items:center;max-height:700px}}@media screen and (max-width: 768px){.modal-content[_ngcontent-%COMP%]{background:white;padding:10px;border-radius:5px;height:440px!important;width:350px!important;align-items:center;max-height:700px}.modal-dialog-phone[_ngcontent-%COMP%]{width:90%}}  .timepicker__header{background-color:#ff8a00!important}  span.active{background-color:#ff8a00!important;color:#fff}  .timepicker-button{color:#ff8a00!important}  .clock-face__clock-hand{--clock-hand-color: #ff8a00!important}.round-button[_ngcontent-%COMP%]{position:relative;top:-15px;right:-96%;width:50px;z-index:2}@media screen and (max-width: 768px){.round-button[_ngcontent-%COMP%]{position:relative;top:-5px;right:-87%;width:50px;z-index:2}}"]})}return n})(),data:{title:"Attendance/Manual Attendance"}}];let ln=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[y.Bz.forChild(cn),y.Bz]})}return n})(),dn=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[u.ez,ln]})}return n})()}}]);